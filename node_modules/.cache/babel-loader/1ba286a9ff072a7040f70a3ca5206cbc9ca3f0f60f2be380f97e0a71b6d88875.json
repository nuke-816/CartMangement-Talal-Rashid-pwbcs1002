{"ast":null,"code":"var _jsxFileName = \"D:\\\\BSCS\\\\Semester 3\\\\WEB\\\\cart-management\\\\frontend\\\\src\\\\components\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useCart } from './CartContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = ({\n  userId\n}) => {\n  _s();\n  const {\n    cart,\n    updateQuantity,\n    removeFromCart,\n    fetchCart\n  } = useCart();\n  const [totalPrice, setTotalPrice] = useState(0);\n  useEffect(() => {\n    fetchCart(userId); // Fetch cart when component mounts\n  }, [userId, fetchCart]);\n  useEffect(() => {\n    // Calculate total price\n    const total = cart.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\n    setTotalPrice(total);\n  }, [cart]);\n  const handleUpdateQuantity = (productId, quantity) => {\n    updateQuantity(userId, productId, quantity);\n  };\n  const handleRemoveItem = productId => {\n    removeFromCart(userId, productId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-items\",\n      children: cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Your cart is empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this) : cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: item.product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"$\", item.product.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: item.quantity,\n          onChange: e => handleUpdateQuantity(item.product._id, e.target.value),\n          min: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRemoveItem(item.product._id),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Total: $\", totalPrice]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"zdLiT1JTRn5JBi0KpYmKfPUaOEY=\", false, function () {\n  return [useCart];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","useCart","jsxDEV","_jsxDEV","Cart","userId","_s","cart","updateQuantity","removeFromCart","fetchCart","totalPrice","setTotalPrice","total","reduce","sum","item","product","price","quantity","handleUpdateQuantity","productId","handleRemoveItem","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","name","type","value","onChange","e","_id","target","min","onClick","_c","$RefreshReg$"],"sources":["D:/BSCS/Semester 3/WEB/cart-management/frontend/src/components/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useCart } from './CartContext';\n\nconst Cart = ({ userId }) => {\n  const { cart, updateQuantity, removeFromCart, fetchCart } = useCart();\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  useEffect(() => {\n    fetchCart(userId); // Fetch cart when component mounts\n  }, [userId, fetchCart]);\n\n  useEffect(() => {\n    // Calculate total price\n    const total = cart.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\n    setTotalPrice(total);\n  }, [cart]);\n\n  const handleUpdateQuantity = (productId, quantity) => {\n    updateQuantity(userId, productId, quantity);\n  };\n\n  const handleRemoveItem = (productId) => {\n    removeFromCart(userId, productId);\n  };\n\n  return (\n    <div>\n      <h2>Your Cart</h2>\n      <div className=\"cart-items\">\n        {cart.length === 0 ? (\n          <p>Your cart is empty</p>\n        ) : (\n          cart.map((item) => (\n            <div key={item._id} className=\"cart-item\">\n              <h3>{item.product.name}</h3>\n              <p>${item.product.price}</p>\n              <input\n                type=\"number\"\n                value={item.quantity}\n                onChange={(e) => handleUpdateQuantity(item.product._id, e.target.value)}\n                min=\"1\"\n              />\n              <button onClick={() => handleRemoveItem(item.product._id)}>Remove</button>\n            </div>\n          ))\n        )}\n      </div>\n      <h3>Total: ${totalPrice}</h3>\n    </div>\n  );\n};\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}